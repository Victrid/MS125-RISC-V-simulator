stages:
  - clean
  - build
  - test

clean:
  stage: clean
  script:
    - make clean

build:
  stage: build
  script:
    - make code

test1:
  stage: test
  script:
    - make unit_test_1

test2:
  stage: test
  script:
    - make unit_test_2

test3:
  stage: test
  script:
    - make unit_test_3

test_input:
  stage: test
  script:
    - make unit_test_stdin
    
test_coverage:
  stage: test
  script:
    - make test_gcovr
    - ./test_gcovr
    - gcovr -r .
